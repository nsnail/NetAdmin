<Project>
    <Target Name="PreBuild" BeforeTargets="PreBuildEvent">
        <Exec Command="dotnet tool restore" StdOutEncoding="utf-8"/>
        <Exec Condition="!Exists('$(SolutionDir)/assets/res/Ln.resx')" WorkingDirectory="$(SolutionDir)"
              Command="dotnet t4 $(SolutionDir)/gen.resx.tt -o $(SolutionDir)/assets/res/Ln.resx"
              StdOutEncoding="utf-8"/>
        <Exec Condition="!Exists('$(SolutionDir)/dist/Server/$(ProjectName)/Ln.cs')"
              WorkingDirectory="$(SolutionDir)"
              Command="dotnet t4 $(SolutionDir)/gen.cs.tt -o $(SolutionDir)/dist/Server/$(ProjectName)/Ln.cs"
              StdOutEncoding="utf-8"/>
    </Target>
    <ItemGroup>
        <None Include="$(SolutionDir)/assets/res/Ln.txt">
            <Link>Languages/Ln.txt</Link>
        </None>
        <EmbeddedResource Include="$(SolutionDir)/assets/res/Ln.resx">
            <Link>Languages/Ln.resx</Link>
            <Generator>PublicResXFileCodeGenerator</Generator>
        </EmbeddedResource>
        <Compile Include="$(SolutionDir)/dist/Server/$(ProjectName)/Ln.Designer.cs">
            <Link>Languages/Ln.Designer.cs</Link>
        </Compile>
    </ItemGroup>
</Project>